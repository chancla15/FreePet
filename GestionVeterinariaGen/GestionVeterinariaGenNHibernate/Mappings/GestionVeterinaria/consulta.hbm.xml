<?xml version="1.0" encoding="utf-8" ?>
		<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
		                   assembly="GestionVeterinariaGenNHibernate"
		                   namespace="GestionVeterinariaGenNHibernate.EN.GestionVeterinaria">
			<class name="ConsultaEN" table="[Consulta]">
						<id name="IdConsulta" column="[IDConsulta]"/>
					<property name="Fecha" type="date"> 
						<column name="[fecha]"  not-null="true"/>
					</property>
					<property name="Hora" type="timestamp"> 
						<column name="[hora]"  not-null="true"/>
					</property>
					<property name="MotivoConsulta" type="string"> 
						<column name="[motivoConsulta]"  not-null="true"/>
					</property>
					<property name="Diagnostico" type="string"> 
						<column name="[diagnostico]"  not-null="true"/>
					</property>
					<property name="Lugar" type="string"> 
						<column name="[lugar]"  not-null="true"/>
					</property>
			
			
			
			
			
			
		  			
						<many-to-one name="Mascota" class="GestionVeterinariaGenNHibernate.EN.GestionVeterinaria.MascotaEN" >	
								<column name="[FK_ID_idMascota]"/>
						</many-to-one>
											 					
			
		  			
						<many-to-one name="Veterinario" class="GestionVeterinariaGenNHibernate.EN.GestionVeterinaria.VeterinarioEN" >	
								<column name="[FK_DNI_idVeterinario]"/>
						</many-to-one>
											 					
			
		  			
						<bag name="Tratamiento" table="[consulta_farmaco]"  >
							<key>
									<column name="[FK_IDConsulta_idConsulta]"/>
							</key>
      						<many-to-many class="GestionVeterinariaGenNHibernate.EN.GestionVeterinaria.TratamientoEN">
									<column name="[FK_Nombre_idFarmaco]"/>
      						</many-to-many>
    					</bag>
			
			
		  			
					
							<many-to-one name="Factura" class="GestionVeterinariaGenNHibernate.EN.GestionVeterinaria.FacturaEN" >
								<column name="[FK_idFacturaFactura_idFactura]"/>
        					</many-to-one>
					 
						
					
					
					
					
					
					
					
					
					
					
		
		  </class>
		  
		  <query name="ConsultaENReadAllHQL">from ConsultaEN</query>
		  <query name="ConsultaENbuscarConsultaPorFechaHQL"><![CDATA[FROM ConsultaEN c WHERE c.Fecha=:fecha]]></query>
		  <query name="ConsultaENdameConsultaPorMascotaHQL"><![CDATA[FROM ConsultaEN]]></query>
		</hibernate-mapping>
	